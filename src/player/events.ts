import { player } from './custom-element'

type CveEventListener = (res: CustomEvent<string>) => void
type CveEventListenerMap = {
  [x in CveEventType]?: CveEventListener
}
type CveEventType =
  | 'render'
  | 'select'
  | 'measure'
  | 'init'

const listeners: CveEventListenerMap = {
  render: undefined,
  select: undefined,
  measure: undefined,
  init: undefined,
}

// CVE Custom Events
export function disposePlayerEvents() {
  Object.entries(listeners).forEach(([type, handler]) => {
    player?.removeEventListener(type as CveEventType, handler)
  })
}
