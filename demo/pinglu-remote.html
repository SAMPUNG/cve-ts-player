<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="./style.css">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pinglu With Remote Server</title>
  </head>
  <body>
    <div id="app">
      <cve-player
        application-name="HdecUnrealPinglu"
        aspect-ratio="auto"
        level-name="Madao"
        scene-name="Base"
        url="http://39.170.3.124/"
        volume="0.3"
      >
      </cve-player>
    </div>
    <script type="module">
      import { emitUIInteraction } from '@/liaison/emitter'
      import { player } from '@/player/custom-element'

      const fly = () => {
        setTimeout(() => {
          const Data = {
            ArmLength: 182103.671875,
            Duration: 3,
            Location: [-150933.81522, -23069.396282, 25299.628117],
            Rotation: [0, -25.206932, -68.69767],
          }
          emitUIInteraction({ Command: 'FlyTo', Data })
        }, 1000 * 3)
      }

      player?.addEventListener('start', (evt) => {
        console.warn('start ===> ', evt.detail)
        fly()
      })
      player?.addEventListener('error', (evt) => {
        console.error('error ===> ', evt.message)
      })
    </script>
  </body>
</html>
